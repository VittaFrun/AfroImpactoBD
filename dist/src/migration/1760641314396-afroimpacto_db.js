"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AfroimpactoDb1760641314396 = void 0;
class AfroimpactoDb1760641314396 {
    constructor() {
        this.name = 'AfroimpactoDb1760641314396';
    }
    async up(queryRunner) {
        await queryRunner.query(`CREATE TABLE \`permiso\` (\`id_permiso\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, PRIMARY KEY (\`id_permiso\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`estado\` (\`id_estado\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(50) NOT NULL, PRIMARY KEY (\`id_estado\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`metodopago\` (\`id_metodo\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, PRIMARY KEY (\`id_metodo\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`jornada\` (\`id_jornada\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(50) NOT NULL, PRIMARY KEY (\`id_jornada\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`habilidad\` (\`id_habilidad\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, PRIMARY KEY (\`id_habilidad\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`logro\` (\`id_logro\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, \`icono\` varchar(50) DEFAULT NULL, \`puntos\` int NOT NULL DEFAULT '0', \`tipo\` varchar(50) NOT NULL, \`condicion\` text, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_logro\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`rol\` (\`id_rol\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` varchar(255) NOT NULL, \`tipo_rol\` enum('sistema','organizacion','proyecto') NOT NULL DEFAULT 'sistema', \`id_organizacion\` int DEFAULT NULL, \`id_proyecto\` int DEFAULT NULL, \`activo\` tinyint(1) NOT NULL DEFAULT '1', \`creado_por\` int DEFAULT NULL, \`creado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, \`actualizado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (\`id_rol\`), KEY \`fk_rol_creado_por\` (\`creado_por\`), KEY \`idx_rol_tipo_contexto\` (\`tipo_rol\`,\`id_organizacion\`,\`id_proyecto\`), KEY \`idx_rol_organizacion_activo\` (\`id_organizacion\`,\`activo\`), KEY \`idx_rol_proyecto_activo\` (\`id_proyecto\`,\`activo\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`usuario\` (\`id_usuario\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`email\` varchar(100) NOT NULL, \`password\` varchar(255) NOT NULL, \`id_rol\` int DEFAULT NULL, \`tipo_usuario\` varchar(50) NOT NULL, \`telefono\` varchar(20) DEFAULT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_2863682842e688ca198eb25c12\` (\`email\`), PRIMARY KEY (\`id_usuario\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`organizacion\` (\`id_organizacion\` int NOT NULL AUTO_INCREMENT, \`id_usuario\` int NOT NULL, \`nombre\` varchar(100) NOT NULL, \`tipo\` varchar(50) NOT NULL, \`sitio_web\` varchar(255) NOT NULL, \`pais\` varchar(100) NOT NULL, \`ciudad\` varchar(100) NOT NULL, \`areas_enfoque\` text NOT NULL, \`mision_vision\` text NOT NULL, \`nombre_corto\` varchar(50) DEFAULT NULL, \`descripcion\` text, \`logo\` varchar(255) DEFAULT NULL, \`color_primario\` varchar(7) DEFAULT NULL, \`color_secundario\` varchar(7) DEFAULT NULL, \`tema\` varchar(20) NOT NULL DEFAULT 'claro', \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`REL_a434fef9deb7d92b1120e93cde\` (\`id_usuario\`), UNIQUE INDEX \`IDX_a434fef9deb7d92b1120e93cde\` (\`id_usuario\`), PRIMARY KEY (\`id_organizacion\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`voluntario\` (\`id_voluntario\` int NOT NULL AUTO_INCREMENT, \`id_usuario\` int NOT NULL, \`id_jornada\` int NOT NULL, \`id_estado\` int NOT NULL, \`disponibilidad\` varchar(50) NOT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`REL_b9ff2b8aec5d19e99083c75fd3\` (\`id_usuario\`), PRIMARY KEY (\`id_voluntario\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`proyecto\` (\`id_proyecto\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, \`objetivo\` text NOT NULL, \`ubicacion\` varchar(100) NOT NULL, \`fecha_inicio\` date NOT NULL, \`fecha_fin\` date NOT NULL, \`imagen_principal\` varchar(255) DEFAULT NULL, \`documento\` varchar(255) DEFAULT NULL, \`categoria\` varchar(50) DEFAULT NULL, \`es_publico\` tinyint NOT NULL DEFAULT '1', \`requisitos\` text COMMENT 'Lista libre de requisitos para participar en el proyecto (JSON o texto)', \`presupuesto_total\` decimal(12,2) NOT NULL DEFAULT '0.00', \`id_estado\` int NOT NULL, \`id_organizacion\` int NOT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_proyecto\`), KEY \`idx_proyecto_publico_estado\` (\`es_publico\`,\`id_estado\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`fase\` (\`id_fase\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, \`orden\` int NOT NULL, \`id_proyecto\` int NOT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_fase\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`tarea\` (\`id_tarea\` int NOT NULL AUTO_INCREMENT, \`descripcion\` text NOT NULL, \`fecha_inicio\` date NOT NULL, \`fecha_fin\` date NOT NULL, \`prioridad\` enum ('Alta', 'Media', 'Baja') NOT NULL, \`complejidad\` varchar(100) NOT NULL, \`id_estado\` int NOT NULL, \`id_fase\` int NOT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_tarea\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`asignacion\` (\`id_asignacion\` int NOT NULL AUTO_INCREMENT, \`id_tarea\` int NOT NULL, \`id_voluntario\` int NOT NULL, \`id_rol\` int NOT NULL, PRIMARY KEY (\`id_asignacion\`), KEY \`idx_asignacion_rol_tarea\` (\`id_rol\`,\`id_tarea\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`donacion\` (\`id_donacion\` int NOT NULL AUTO_INCREMENT, \`id_organizacion\` int NOT NULL, \`id_metodo\` int NOT NULL, \`monto_total\` decimal(12,2) NOT NULL, \`fecha\` date NOT NULL, \`condiciones\` text NOT NULL, \`verificado\` tinyint NOT NULL DEFAULT 0, \`id_estado\` int NOT NULL, PRIMARY KEY (\`id_donacion\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`donacion_proyecto\` (\`id_donacion_proyecto\` int NOT NULL AUTO_INCREMENT, \`id_donacion\` int NOT NULL, \`id_proyecto\` int NOT NULL, \`monto_asignado\` decimal(12,2) NOT NULL, PRIMARY KEY (\`id_donacion_proyecto\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`movimiento\` (\`id_movimiento\` int NOT NULL AUTO_INCREMENT, \`tipo\` varchar(50) NOT NULL, \`descripcion\` text NOT NULL, \`cantidad\` int NOT NULL, \`monto\` decimal(12,2) NOT NULL, \`fecha\` date NOT NULL, \`comprobante\` varchar(255) NULL, \`id_proyecto\` int NOT NULL, \`id_tarea\` int NULL, \`id_donacion\` int NULL, PRIMARY KEY (\`id_movimiento\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`reporte\` (\`id_reporte\` int NOT NULL AUTO_INCREMENT, \`tipo\` varchar(50) NOT NULL, \`fecha\` date NOT NULL, \`contenido\` text NOT NULL, \`formato\` varchar(20) NOT NULL DEFAULT 'PDF', \`estado\` varchar(20) NOT NULL DEFAULT 'pendiente', \`incluir_graficos\` tinyint NOT NULL DEFAULT '1', \`descargas\` int NOT NULL DEFAULT '0', \`id_proyecto\` int NOT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_reporte\`), KEY \`idx_reporte_proyecto_estado\` (\`id_proyecto\`,\`estado\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`evaluacion\` (\`id_evaluacion\` int NOT NULL AUTO_INCREMENT, \`id_voluntario\` int NOT NULL, \`id_proyecto\` int NOT NULL, \`puntuacion\` int NOT NULL, \`comentario\` text NOT NULL, \`fecha\` date NOT NULL, PRIMARY KEY (\`id_evaluacion\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`disponibilidad\` (\`id_disponibilidad\` int NOT NULL AUTO_INCREMENT, \`id_voluntario\` int NOT NULL, \`dia_semana\` varchar(20) NOT NULL, \`hora_inicio\` time NOT NULL, \`hora_fin\` time NOT NULL, PRIMARY KEY (\`id_disponibilidad\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`voluntario_habilidad\` (\`id_voluntario\` int NOT NULL, \`id_habilidad\` int NOT NULL, \`tiempo_experiencia\` varchar(50) NOT NULL, \`nivel\` enum ('Básico', 'Intermedio', 'Avanzado') NOT NULL, \`verificado\` tinyint NOT NULL DEFAULT 0, PRIMARY KEY (\`id_voluntario\`, \`id_habilidad\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`rol_permiso\` (\`id_rol\` int NOT NULL, \`id_permiso\` int NOT NULL, PRIMARY KEY (\`id_rol\`, \`id_permiso\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`archivo\` (\`id_archivo\` int NOT NULL AUTO_INCREMENT, \`nombre\` varchar(255) NOT NULL, \`ruta\` varchar(255) NOT NULL, \`tipo\` varchar(50) NOT NULL, \`id_referencia\` int NOT NULL, \`tipo_referencia\` varchar(50) NOT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_archivo\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`certificado\` (\`id_certificado\` int NOT NULL AUTO_INCREMENT, \`id_voluntario\` int NOT NULL, \`id_proyecto\` int DEFAULT NULL, \`nombre\` varchar(100) NOT NULL, \`descripcion\` text NOT NULL, \`tipo\` varchar(50) NOT NULL, \`fecha_emision\` date NOT NULL, \`fecha_expiracion\` date DEFAULT NULL, \`codigo_verificacion\` varchar(50) NOT NULL, \`archivo_pdf\` varchar(255) DEFAULT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_certificado\`), UNIQUE KEY \`UQ_certificado_codigo\` (\`codigo_verificacion\`), KEY \`idx_certificado_voluntario_fecha\` (\`id_voluntario\`,\`fecha_emision\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`configuracion_seguridad\` (\`id_config_seguridad\` int NOT NULL AUTO_INCREMENT, \`id_usuario\` int NOT NULL, \`two_factor_enabled\` tinyint NOT NULL DEFAULT '0', \`two_factor_secret\` varchar(255) DEFAULT NULL, \`sso_enabled\` tinyint NOT NULL DEFAULT '0', \`sso_provider\` varchar(50) DEFAULT NULL, \`session_timeout\` int NOT NULL DEFAULT '3600', \`ip_whitelist\` text, \`audit_log_enabled\` tinyint NOT NULL DEFAULT '0', \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_config_seguridad\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`documento_solicitud\` (\`id_documento\` int NOT NULL AUTO_INCREMENT, \`id_solicitud\` int NOT NULL, \`nombre_archivo\` varchar(255) NOT NULL COMMENT 'Nombre original del archivo', \`ruta_archivo\` varchar(500) NOT NULL COMMENT 'Ruta donde se almacena el archivo', \`tipo_documento\` varchar(100) NOT NULL COMMENT 'Tipo de documento (CV, certificado, etc.)', \`tamaño\` int NOT NULL COMMENT 'Tamaño del archivo en bytes', \`creado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (\`id_documento\`), KEY \`idx_documento_solicitud\` (\`id_solicitud\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`formulario_inscripcion\` (\`id_formulario\` int NOT NULL AUTO_INCREMENT, \`id_proyecto\` int DEFAULT NULL COMMENT 'FK a Proyecto (si es específico del proyecto)', \`id_organizacion\` int DEFAULT NULL COMMENT 'FK a Organizacion (si es general de la organización)', \`nombre_campo\` varchar(100) NOT NULL COMMENT 'Nombre técnico del campo', \`tipo_campo\` enum('text','textarea','number','date','select','file') NOT NULL COMMENT 'Tipo de campo del formulario', \`etiqueta\` varchar(255) NOT NULL COMMENT 'Etiqueta visible para el usuario', \`placeholder\` varchar(255) DEFAULT NULL COMMENT 'Text placeholder del campo', \`requerido\` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Si el campo es obligatorio', \`opciones\` text COMMENT 'Opciones para campos tipo select (JSON)', \`orden\` int NOT NULL DEFAULT '0' COMMENT 'Orden de aparición en el formulario', \`activo\` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Si el campo está activo', \`creado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, \`actualizado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (\`id_formulario\`), KEY \`idx_formulario_proyecto\` (\`id_proyecto\`), KEY \`idx_formulario_organizacion\` (\`id_organizacion\`), KEY \`idx_formulario_proyecto_activo\` (\`id_proyecto\`,\`activo\`), KEY \`idx_formulario_organizacion_activo\` (\`id_organizacion\`,\`activo\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`horas_voluntariadas\` (\`id_horas\` int NOT NULL AUTO_INCREMENT, \`id_voluntario\` int NOT NULL, \`id_proyecto\` int NOT NULL, \`id_tarea\` int DEFAULT NULL, \`fecha\` date NOT NULL, \`horas_trabajadas\` decimal(4,2) NOT NULL, \`descripcion\` text, \`verificada\` tinyint NOT NULL DEFAULT '0', \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_horas\`), KEY \`idx_horas_voluntario_fecha\` (\`id_voluntario\`,\`fecha\`), KEY \`idx_horas_proyecto_fecha\` (\`id_proyecto\`,\`fecha\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`integracion\` (\`id_integracion\` int NOT NULL AUTO_INCREMENT, \`id_usuario\` int NOT NULL, \`tipo\` varchar(50) NOT NULL, \`nombre\` varchar(100) NOT NULL, \`habilitada\` tinyint NOT NULL DEFAULT '0', \`token_acceso\` text, \`token_refresh\` text, \`configuracion\` text, \`expiracion_token\` datetime DEFAULT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_integracion\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`preferencia_usuario\` (\`id_preferencia\` int NOT NULL AUTO_INCREMENT, \`id_usuario\` int NOT NULL, \`notificaciones_email\` tinyint NOT NULL DEFAULT '1', \`resumen_semanal\` tinyint NOT NULL DEFAULT '1', \`recordatorios\` tinyint NOT NULL DEFAULT '1', \`notificaciones_push\` tinyint NOT NULL DEFAULT '1', \`modo_oscuro\` tinyint NOT NULL DEFAULT '0', \`idioma\` varchar(10) NOT NULL DEFAULT 'es', \`zona_horaria\` varchar(50) NOT NULL DEFAULT 'America/Bogota', \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`actualizado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_preferencia\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`proyecto_beneficio\` (\`id_proyecto_beneficio\` int NOT NULL AUTO_INCREMENT, \`id_proyecto\` int NOT NULL, \`tipo_pago\` enum('volunteer','stipend','salary','honorarium') NOT NULL DEFAULT 'volunteer' COMMENT 'Tipo de remuneración', \`monto\` decimal(12,2) NOT NULL DEFAULT '0.00' COMMENT 'Monto de remuneración', \`frecuencia\` enum('none','monthly','weekly','project') NOT NULL DEFAULT 'none' COMMENT 'Frecuencia de pago', \`descripcion_pago\` text COMMENT 'Descripción detallada del pago', \`incluye_transporte\` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Si incluye transporte', \`incluye_alimentacion\` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Si incluye alimentación', \`incluye_materiales\` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Si incluye materiales de trabajo', \`incluye_seguro\` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Si incluye seguro de accidentes', \`creado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, \`actualizado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (\`id_proyecto_beneficio\`), UNIQUE KEY \`uk_proyecto_beneficio_proyecto\` (\`id_proyecto\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`solicitud_inscripcion\` (\`id_solicitud\` int NOT NULL AUTO_INCREMENT, \`id_proyecto\` int NOT NULL, \`id_voluntario\` int NOT NULL, \`estado\` enum('pendiente','aprobada','rechazada') NOT NULL DEFAULT 'pendiente' COMMENT 'Estado de la solicitud', \`motivacion\` text COMMENT 'Motivación del voluntario para participar', \`disponibilidad\` text COMMENT 'Disponibilidad de tiempo del voluntario', \`experiencia_relacionada\` text COMMENT 'Experiencia relacionada con el proyecto', \`notas_organizacion\` text COMMENT 'Notas internas de la organización', \`fecha_solicitud\` date NOT NULL COMMENT 'Fecha en que se envió la solicitud', \`fecha_revision\` date DEFAULT NULL COMMENT 'Fecha en que se revisó la solicitud', \`creado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, \`actualizado_en\` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (\`id_solicitud\`), KEY \`idx_solicitud_proyecto\` (\`id_proyecto\`), KEY \`idx_solicitud_voluntario\` (\`id_voluntario\`), KEY \`idx_solicitud_proyecto_estado\` (\`id_proyecto\`,\`estado\`), KEY \`idx_solicitud_voluntario_estado\` (\`id_voluntario\`,\`estado\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`voluntario_logro\` (\`id_voluntario_logro\` int NOT NULL AUTO_INCREMENT, \`id_voluntario\` int NOT NULL, \`id_logro\` int NOT NULL, \`fecha_obtenido\` date NOT NULL, \`proyecto_relacionado\` int DEFAULT NULL, \`creado_en\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), PRIMARY KEY (\`id_voluntario_logro\`), KEY \`idx_logro_voluntario_fecha\` (\`id_voluntario\`,\`fecha_obtenido\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE INDEX \`IDX_1d9e5be3d74310f98e398912d9\` ON \`rol_permiso\` (\`id_rol\`)`);
        await queryRunner.query(`CREATE INDEX \`IDX_9c0fd212b970f71bf0a9465c4f\` ON \`rol_permiso\` (\`id_permiso\`)`);
        await queryRunner.query(`ALTER TABLE \`usuario\` ADD CONSTRAINT \`FK_3628e9894c4b014d61a01cb21dd\` FOREIGN KEY (\`id_rol\`) REFERENCES \`rol\`(\`id_rol\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`organizacion\` ADD CONSTRAINT \`FK_a434fef9deb7d92b1120e93cde7\` FOREIGN KEY (\`id_usuario\`) REFERENCES \`usuario\`(\`id_usuario\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`voluntario\` ADD CONSTRAINT \`FK_b9ff2b8aec5d19e99083c75fd3e\` FOREIGN KEY (\`id_usuario\`) REFERENCES \`usuario\`(\`id_usuario\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`voluntario\` ADD CONSTRAINT \`FK_ba654756ea424a96a61b0f6c42b\` FOREIGN KEY (\`id_jornada\`) REFERENCES \`jornada\`(\`id_jornada\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`voluntario\` ADD CONSTRAINT \`FK_40b4a17baae6b4f06b6447f64a7\` FOREIGN KEY (\`id_estado\`) REFERENCES \`estado\`(\`id_estado\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`proyecto\` ADD CONSTRAINT \`FK_5dc5ddea3fd8edda48a6d5e94c1\` FOREIGN KEY (\`id_estado\`) REFERENCES \`estado\`(\`id_estado\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`proyecto\` ADD CONSTRAINT \`FK_636d20210bb84793000e129881f\` FOREIGN KEY (\`id_organizacion\`) REFERENCES \`organizacion\`(\`id_organizacion\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`fase\` ADD CONSTRAINT \`FK_6e6cf7e6c950bcb2f99632a20f5\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`tarea\` ADD CONSTRAINT \`FK_48eeaaf81750df62901889574e7\` FOREIGN KEY (\`id_estado\`) REFERENCES \`estado\`(\`id_estado\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`tarea\` ADD CONSTRAINT \`FK_271445314b408ec9ec3c19d9e66\` FOREIGN KEY (\`id_fase\`) REFERENCES \`fase\`(\`id_fase\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`asignacion\` ADD CONSTRAINT \`FK_080b54e04105cbc5e51f9f12761\` FOREIGN KEY (\`id_tarea\`) REFERENCES \`tarea\`(\`id_tarea\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`asignacion\` ADD CONSTRAINT \`FK_ff6c9d81e95011500e2926e06f9\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`asignacion\` ADD CONSTRAINT \`fk_asignacion_rol\` FOREIGN KEY (\`id_rol\`) REFERENCES \`rol\`(\`id_rol\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`donacion\` ADD CONSTRAINT \`FK_95617e4c45e5efa3331b60881e2\` FOREIGN KEY (\`id_organizacion\`) REFERENCES \`organizacion\`(\`id_organizacion\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`donacion\` ADD CONSTRAINT \`FK_981d4a4f7835f640c5181b9909d\` FOREIGN KEY (\`id_metodo\`) REFERENCES \`metodopago\`(\`id_metodo\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`donacion\` ADD CONSTRAINT \`FK_a5bdd9db938385e5caf9c9badde\` FOREIGN KEY (\`id_estado\`) REFERENCES \`estado\`(\`id_estado\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`donacion_proyecto\` ADD CONSTRAINT \`FK_d7153b581a96292cfa38cc29b69\` FOREIGN KEY (\`id_donacion\`) REFERENCES \`donacion\`(\`id_donacion\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`donacion_proyecto\` ADD CONSTRAINT \`FK_e8fc3410eb6a8b322569e38c710\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`movimiento\` ADD CONSTRAINT \`FK_6c9de691fff88546d526c0be721\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`movimiento\` ADD CONSTRAINT \`FK_a2cc74e37019249efd3b9274186\` FOREIGN KEY (\`id_tarea\`) REFERENCES \`tarea\`(\`id_tarea\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`movimiento\` ADD CONSTRAINT \`FK_f798af7984d221fbe8b402e0b83\` FOREIGN KEY (\`id_donacion\`) REFERENCES \`donacion\`(\`id_donacion\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`reporte\` ADD CONSTRAINT \`FK_aca7331dcd0e2cee6e92b29408e\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`evaluacion\` ADD CONSTRAINT \`FK_7b335b72565eb886d680c6feb37\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`evaluacion\` ADD CONSTRAINT \`FK_4c414d056233bda67d28e860031\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`disponibilidad\` ADD CONSTRAINT \`FK_f35e270b26165db42c39b0b2069\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`voluntario_habilidad\` ADD CONSTRAINT \`FK_ea071f223de95d33382af5856a5\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`voluntario_habilidad\` ADD CONSTRAINT \`FK_d1817a82c45d7ee2156b5126c2d\` FOREIGN KEY (\`id_habilidad\`) REFERENCES \`habilidad\`(\`id_habilidad\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`rol_permiso\` ADD CONSTRAINT \`FK_1d9e5be3d74310f98e398912d94\` FOREIGN KEY (\`id_rol\`) REFERENCES \`rol\`(\`id_rol\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`rol_permiso\` ADD CONSTRAINT \`FK_9c0fd212b970f71bf0a9465c4f3\` FOREIGN KEY (\`id_permiso\`) REFERENCES \`permiso\`(\`id_permiso\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`rol\` ADD CONSTRAINT \`fk_rol_creado_por\` FOREIGN KEY (\`creado_por\`) REFERENCES \`usuario\`(\`id_usuario\`) ON DELETE SET NULL ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`rol\` ADD CONSTRAINT \`fk_rol_organizacion\` FOREIGN KEY (\`id_organizacion\`) REFERENCES \`organizacion\`(\`id_organizacion\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`rol\` ADD CONSTRAINT \`fk_rol_proyecto\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`certificado\` ADD CONSTRAINT \`FK_certificado_voluntario\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`certificado\` ADD CONSTRAINT \`FK_certificado_proyecto\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE SET NULL`);
        await queryRunner.query(`ALTER TABLE \`configuracion_seguridad\` ADD CONSTRAINT \`FK_config_seguridad_usuario\` FOREIGN KEY (\`id_usuario\`) REFERENCES \`usuario\`(\`id_usuario\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`documento_solicitud\` ADD CONSTRAINT \`fk_documento_solicitud\` FOREIGN KEY (\`id_solicitud\`) REFERENCES \`solicitud_inscripcion\`(\`id_solicitud\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`formulario_inscripcion\` ADD CONSTRAINT \`fk_formulario_organizacion\` FOREIGN KEY (\`id_organizacion\`) REFERENCES \`organizacion\`(\`id_organizacion\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`formulario_inscripcion\` ADD CONSTRAINT \`fk_formulario_proyecto\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`horas_voluntariadas\` ADD CONSTRAINT \`FK_horas_voluntario\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`horas_voluntariadas\` ADD CONSTRAINT \`FK_horas_proyecto\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`horas_voluntariadas\` ADD CONSTRAINT \`FK_horas_tarea\` FOREIGN KEY (\`id_tarea\`) REFERENCES \`tarea\`(\`id_tarea\`) ON DELETE SET NULL`);
        await queryRunner.query(`ALTER TABLE \`integracion\` ADD CONSTRAINT \`FK_integracion_usuario\` FOREIGN KEY (\`id_usuario\`) REFERENCES \`usuario\`(\`id_usuario\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`preferencia_usuario\` ADD CONSTRAINT \`FK_preferencia_usuario\` FOREIGN KEY (\`id_usuario\`) REFERENCES \`usuario\`(\`id_usuario\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`proyecto_beneficio\` ADD CONSTRAINT \`fk_proyecto_beneficio_proyecto\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`solicitud_inscripcion\` ADD CONSTRAINT \`fk_solicitud_proyecto\` FOREIGN KEY (\`id_proyecto\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`solicitud_inscripcion\` ADD CONSTRAINT \`fk_solicitud_voluntario\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`voluntario_logro\` ADD CONSTRAINT \`FK_voluntario_logro_voluntario\` FOREIGN KEY (\`id_voluntario\`) REFERENCES \`voluntario\`(\`id_voluntario\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`voluntario_logro\` ADD CONSTRAINT \`FK_voluntario_logro_logro\` FOREIGN KEY (\`id_logro\`) REFERENCES \`logro\`(\`id_logro\`) ON DELETE CASCADE`);
        await queryRunner.query(`ALTER TABLE \`voluntario_logro\` ADD CONSTRAINT \`FK_voluntario_logro_proyecto\` FOREIGN KEY (\`proyecto_relacionado\`) REFERENCES \`proyecto\`(\`id_proyecto\`) ON DELETE SET NULL`);
        await queryRunner.query(`SET @OLDTMP_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION'`);
        await queryRunner.query(`CREATE TRIGGER \`trg_rol_validate_tipo\` BEFORE INSERT ON \`rol\` FOR EACH ROW BEGIN IF NEW.tipo_rol = 'sistema' AND (NEW.id_organizacion IS NOT NULL OR NEW.id_proyecto IS NOT NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Los roles del sistema no pueden tener id_organizacion ni id_proyecto'; END IF; IF NEW.tipo_rol = 'organizacion' AND (NEW.id_organizacion IS NULL OR NEW.id_proyecto IS NOT NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Los roles de organización deben tener id_organizacion y no pueden tener id_proyecto'; END IF; IF NEW.tipo_rol = 'proyecto' AND (NEW.id_proyecto IS NULL OR NEW.id_organizacion IS NOT NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Los roles de proyecto deben tener id_proyecto y no pueden tener id_organizacion'; END IF; END`);
        await queryRunner.query(`SET SQL_MODE=@OLDTMP_SQL_MODE`);
        await queryRunner.query(`SET @OLDTMP_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION'`);
        await queryRunner.query(`CREATE TRIGGER \`trg_rol_validate_tipo_update\` BEFORE UPDATE ON \`rol\` FOR EACH ROW BEGIN IF NEW.tipo_rol = 'sistema' AND (NEW.id_organizacion IS NOT NULL OR NEW.id_proyecto IS NOT NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Los roles del sistema no pueden tener id_organizacion ni id_proyecto'; END IF; IF NEW.tipo_rol = 'organizacion' AND (NEW.id_organizacion IS NULL OR NEW.id_proyecto IS NOT NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Los roles de organización deben tener id_organizacion y no pueden tener id_proyecto'; END IF; IF NEW.tipo_rol = 'proyecto' AND (NEW.id_proyecto IS NULL OR NEW.id_organizacion IS NOT NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Los roles de proyecto deben tener id_proyecto y no pueden tener id_organizacion'; END IF; END`);
        await queryRunner.query(`SET SQL_MODE=@OLDTMP_SQL_MODE`);
    }
    async down(queryRunner) {
        await queryRunner.query(`DROP TRIGGER IF EXISTS \`trg_rol_validate_tipo_update\``);
        await queryRunner.query(`DROP TRIGGER IF EXISTS \`trg_rol_validate_tipo\``);
        await queryRunner.query(`ALTER TABLE \`voluntario_logro\` DROP FOREIGN KEY \`FK_voluntario_logro_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`voluntario_logro\` DROP FOREIGN KEY \`FK_voluntario_logro_logro\``);
        await queryRunner.query(`ALTER TABLE \`voluntario_logro\` DROP FOREIGN KEY \`FK_voluntario_logro_voluntario\``);
        await queryRunner.query(`ALTER TABLE \`solicitud_inscripcion\` DROP FOREIGN KEY \`fk_solicitud_voluntario\``);
        await queryRunner.query(`ALTER TABLE \`solicitud_inscripcion\` DROP FOREIGN KEY \`fk_solicitud_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`proyecto_beneficio\` DROP FOREIGN KEY \`fk_proyecto_beneficio_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`preferencia_usuario\` DROP FOREIGN KEY \`FK_preferencia_usuario\``);
        await queryRunner.query(`ALTER TABLE \`integracion\` DROP FOREIGN KEY \`FK_integracion_usuario\``);
        await queryRunner.query(`ALTER TABLE \`horas_voluntariadas\` DROP FOREIGN KEY \`FK_horas_tarea\``);
        await queryRunner.query(`ALTER TABLE \`horas_voluntariadas\` DROP FOREIGN KEY \`FK_horas_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`horas_voluntariadas\` DROP FOREIGN KEY \`FK_horas_voluntario\``);
        await queryRunner.query(`ALTER TABLE \`formulario_inscripcion\` DROP FOREIGN KEY \`fk_formulario_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`formulario_inscripcion\` DROP FOREIGN KEY \`fk_formulario_organizacion\``);
        await queryRunner.query(`ALTER TABLE \`documento_solicitud\` DROP FOREIGN KEY \`fk_documento_solicitud\``);
        await queryRunner.query(`ALTER TABLE \`configuracion_seguridad\` DROP FOREIGN KEY \`FK_config_seguridad_usuario\``);
        await queryRunner.query(`ALTER TABLE \`certificado\` DROP FOREIGN KEY \`FK_certificado_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`certificado\` DROP FOREIGN KEY \`FK_certificado_voluntario\``);
        await queryRunner.query(`ALTER TABLE \`rol\` DROP FOREIGN KEY \`fk_rol_proyecto\``);
        await queryRunner.query(`ALTER TABLE \`rol\` DROP FOREIGN KEY \`fk_rol_organizacion\``);
        await queryRunner.query(`ALTER TABLE \`rol\` DROP FOREIGN KEY \`fk_rol_creado_por\``);
        await queryRunner.query(`ALTER TABLE \`rol_permiso\` DROP FOREIGN KEY \`FK_9c0fd212b970f71bf0a9465c4f3\``);
        await queryRunner.query(`ALTER TABLE \`rol_permiso\` DROP FOREIGN KEY \`FK_1d9e5be3d74310f98e398912d94\``);
        await queryRunner.query(`ALTER TABLE \`voluntario_habilidad\` DROP FOREIGN KEY \`FK_d1817a82c45d7ee2156b5126c2d\``);
        await queryRunner.query(`ALTER TABLE \`voluntario_habilidad\` DROP FOREIGN KEY \`FK_ea071f223de95d33382af5856a5\``);
        await queryRunner.query(`ALTER TABLE \`disponibilidad\` DROP FOREIGN KEY \`FK_f35e270b26165db42c39b0b2069\``);
        await queryRunner.query(`ALTER TABLE \`evaluacion\` DROP FOREIGN KEY \`FK_4c414d056233bda67d28e860031\``);
        await queryRunner.query(`ALTER TABLE \`evaluacion\` DROP FOREIGN KEY \`FK_7b335b72565eb886d680c6feb37\``);
        await queryRunner.query(`ALTER TABLE \`reporte\` DROP FOREIGN KEY \`FK_aca7331dcd0e2cee6e92b29408e\``);
        await queryRunner.query(`ALTER TABLE \`movimiento\` DROP FOREIGN KEY \`FK_f798af7984d221fbe8b402e0b83\``);
        await queryRunner.query(`ALTER TABLE \`movimiento\` DROP FOREIGN KEY \`FK_a2cc74e37019249efd3b9274186\``);
        await queryRunner.query(`ALTER TABLE \`movimiento\` DROP FOREIGN KEY \`FK_6c9de691fff88546d526c0be721\``);
        await queryRunner.query(`ALTER TABLE \`donacion_proyecto\` DROP FOREIGN KEY \`FK_e8fc3410eb6a8b322569e38c710\``);
        await queryRunner.query(`ALTER TABLE \`donacion_proyecto\` DROP FOREIGN KEY \`FK_d7153b581a96292cfa38cc29b69\``);
        await queryRunner.query(`ALTER TABLE \`donacion\` DROP FOREIGN KEY \`FK_a5bdd9db938385e5caf9c9badde\``);
        await queryRunner.query(`ALTER TABLE \`donacion\` DROP FOREIGN KEY \`FK_981d4a4f7835f640c5181b9909d\``);
        await queryRunner.query(`ALTER TABLE \`donacion\` DROP FOREIGN KEY \`FK_95617e4c45e5efa3331b60881e2\``);
        await queryRunner.query(`ALTER TABLE \`asignacion\` DROP FOREIGN KEY \`fk_asignacion_rol\``);
        await queryRunner.query(`ALTER TABLE \`asignacion\` DROP FOREIGN KEY \`FK_ff6c9d81e95011500e2926e06f9\``);
        await queryRunner.query(`ALTER TABLE \`asignacion\` DROP FOREIGN KEY \`FK_080b54e04105cbc5e51f9f12761\``);
        await queryRunner.query(`ALTER TABLE \`tarea\` DROP FOREIGN KEY \`FK_271445314b408ec9ec3c19d9e66\``);
        await queryRunner.query(`ALTER TABLE \`tarea\` DROP FOREIGN KEY \`FK_48eeaaf81750df62901889574e7\``);
        await queryRunner.query(`ALTER TABLE \`fase\` DROP FOREIGN KEY \`FK_6e6cf7e6c950bcb2f99632a20f5\``);
        await queryRunner.query(`ALTER TABLE \`proyecto\` DROP FOREIGN KEY \`FK_636d20210bb84793000e129881f\``);
        await queryRunner.query(`ALTER TABLE \`proyecto\` DROP FOREIGN KEY \`FK_5dc5ddea3fd8edda48a6d5e94c1\``);
        await queryRunner.query(`ALTER TABLE \`voluntario\` DROP FOREIGN KEY \`FK_40b4a17baae6b4f06b6447f64a7\``);
        await queryRunner.query(`ALTER TABLE \`voluntario\` DROP FOREIGN KEY \`FK_ba654756ea424a96a61b0f6c42b\``);
        await queryRunner.query(`ALTER TABLE \`voluntario\` DROP FOREIGN KEY \`FK_b9ff2b8aec5d19e99083c75fd3e\``);
        await queryRunner.query(`ALTER TABLE \`organizacion\` DROP FOREIGN KEY \`FK_a434fef9deb7d92b1120e93cde7\``);
        await queryRunner.query(`ALTER TABLE \`usuario\` DROP FOREIGN KEY \`FK_3628e9894c4b014d61a01cb21dd\``);
        await queryRunner.query(`DROP INDEX \`IDX_9c0fd212b970f71bf0a9465c4f\` ON \`rol_permiso\``);
        await queryRunner.query(`DROP INDEX \`IDX_1d9e5be3d74310f98e398912d9\` ON \`rol_permiso\``);
        await queryRunner.query(`DROP TABLE \`voluntario_logro\``);
        await queryRunner.query(`DROP TABLE \`solicitud_inscripcion\``);
        await queryRunner.query(`DROP TABLE \`proyecto_beneficio\``);
        await queryRunner.query(`DROP TABLE \`preferencia_usuario\``);
        await queryRunner.query(`DROP TABLE \`integracion\``);
        await queryRunner.query(`DROP TABLE \`horas_voluntariadas\``);
        await queryRunner.query(`DROP TABLE \`formulario_inscripcion\``);
        await queryRunner.query(`DROP TABLE \`documento_solicitud\``);
        await queryRunner.query(`DROP TABLE \`configuracion_seguridad\``);
        await queryRunner.query(`DROP TABLE \`certificado\``);
        await queryRunner.query(`DROP TABLE \`logro\``);
        await queryRunner.query(`DROP TABLE \`archivo\``);
        await queryRunner.query(`DROP TABLE \`rol_permiso\``);
        await queryRunner.query(`DROP TABLE \`voluntario_habilidad\``);
        await queryRunner.query(`DROP TABLE \`habilidad\``);
        await queryRunner.query(`DROP INDEX \`REL_b9ff2b8aec5d19e99083c75fd3\` ON \`voluntario\``);
        await queryRunner.query(`DROP TABLE \`voluntario\``);
        await queryRunner.query(`DROP TABLE \`disponibilidad\``);
        await queryRunner.query(`DROP TABLE \`jornada\``);
        await queryRunner.query(`DROP INDEX \`IDX_2863682842e688ca198eb25c12\` ON \`usuario\``);
        await queryRunner.query(`DROP TABLE \`usuario\``);
        await queryRunner.query(`DROP INDEX \`IDX_a434fef9deb7d92b1120e93cde\` ON \`organizacion\``);
        await queryRunner.query(`DROP INDEX \`REL_a434fef9deb7d92b1120e93cde\` ON \`organizacion\``);
        await queryRunner.query(`DROP TABLE \`organizacion\``);
        await queryRunner.query(`DROP TABLE \`donacion\``);
        await queryRunner.query(`DROP TABLE \`metodopago\``);
        await queryRunner.query(`DROP TABLE \`estado\``);
        await queryRunner.query(`DROP TABLE \`proyecto\``);
        await queryRunner.query(`DROP TABLE \`evaluacion\``);
        await queryRunner.query(`DROP TABLE \`reporte\``);
        await queryRunner.query(`DROP TABLE \`donacion_proyecto\``);
        await queryRunner.query(`DROP TABLE \`fase\``);
        await queryRunner.query(`DROP TABLE \`tarea\``);
        await queryRunner.query(`DROP TABLE \`movimiento\``);
        await queryRunner.query(`DROP TABLE \`asignacion\``);
        await queryRunner.query(`DROP TABLE \`rol\``);
        await queryRunner.query(`DROP TABLE \`permiso\``);
    }
}
exports.AfroimpactoDb1760641314396 = AfroimpactoDb1760641314396;
//# sourceMappingURL=1760641314396-afroimpacto_db.js.map